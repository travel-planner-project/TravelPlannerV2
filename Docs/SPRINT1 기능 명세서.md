# 유저 기능
## 회원가입
- 유저가 회원 가입을 할 수 있습니다.

## 로그인
- 유저가 일반 로그인을 할 수 있습니다.
- 유저가 소셜 로그인을 할 수 있습니다.

## 로그아웃
- 쿠키와 헤더의 토큰을 삭제합니다.

## 유저 정보 반환
- 유저 정보는 레디스에 캐싱합니다.
- 요청시에 레디스를 거치고, 없을 시 DB 를 거치도록 합니다.

<br>

# 인증 / 인가
## 웹토큰
- 토큰을 생성 합니다.
- 토큰을 재발급 합니다.

  |토큰|기한|저장|키|값|
  |:---:|:---:|:---:|:---:|:---:|
  |accessToken|15 분|헤더|Authorization|Bearer + token|
  |refreshToken|7 일|쿠키 / 레디스|refreshToken|token|
    - refresh Token 만료시 재발급해서 다시 access Token 을 재발급 합니다. (유저 편의 향상)
    - 때문에 쿠키에도 다시 넣어줘야 합니다.


## 시큐리티
- 시큐리티 설정을 커스텀 합니다.
- 로그인시 아이디 비번 틀렸을 경우 오류를 반환하지 않습니다. (보안 향상)

<br>

# 유저 정보 변경
- 유저의 사진을 변경할 수 있습니다.
- 유저의 닉네임을 변경할 수 있습니다.
- 유저의 비밀번호를 변경할 수 있습니다.
  - 변경 전 비밀번호 검증 api 로 현재 비밀번호와 비교 해야 합니다.
- 유저가 회원탈퇴를 할 수 있습니다.
  - 탈퇴 전 비밀번호 검증 api 로 현재 비밀번호와 비교 해야 합니다.

<br>

# 플래너 기능
## 플래너 CRUD
- 유저가 플래너를 생성 / 수정 / 삭제 할 수 있습니다.
- 비공개 플래너는 그룹멤버를 제외한 다른 유저에게 보여줄 수 없습니다.

### 플래너 리스트
#### 유저 인덱스를 담지 않고 요청
모든 유저의 플래너를 보여줘야 하며, 현재 로그인한 사용자가 그룹 멤버에 포함 된다면 **isPrivate** 가 `true` 여도 보이게 해야 함.
#### 특정 유저의 유저인덱스를 담고 요청
해당 유저의 플래너만 보여주되, 현재 로그인한 사용자가 그룹 멤버에 포함 된다면 **isPrivate** 가 `true` 여도 보이게 해야 함.

<br>

## 플래너 상세 CRUD
- 웹소켓을 이용하여 날짜를 생성 / 수정 / 삭제 할 수 있습니다.
- 해당 날짜 아래에 투두를 생성 / 수정 / 삭제 할 수 있습니다.
- 비공개 투두는 그룹멤버를 제외한 다른 유저에게 보여줄 수 없습니다.

<br>

## 실시간 채팅
- 그룹멤버인 유저들 끼리 실시간으로 채팅을 할 수 있습니다.
- 대화내용은 저장하지 않습니다.

<br>

## 유저 검색 기능
- 그룹 멤버를 추가하기 위해 유저를 검색합니다.
- 소셜 로그인으로 인해 이메일이 중복 될 수 있습니다.
  - 결과는 리스트로 반환 됩니다.

<br>

## 그룹 멤버 추가 / 삭제
- 웹소켓을 이용하여 실시간으로 유저를 추가 / 삭제 할 수 있습니다.